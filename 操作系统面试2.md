## 1、用户态、内核态和系统调用的概念

特权级的概念：

用户态：

内核态：

系统调用：

## 2、线程同步是干什么的，线程同步有那些机制？

线程同步：

线程同步的机制：

1.临界区：

2.互斥量：

3.信号量：

4.事件：

## 3、内核线程和用户线程有什么区别？

**以下是用户级线程和内核级线程的区别：**

**（1）**

**（2）**

   (3)

**（4）**

**（5）**





















## 1、用户态、内核态和系统调用的概念

特权级的概念：

对于任何操作系统来说，创建一个进程是核心功能。创建进程要做很多工作，会消耗很多物理资源。比如分配物理内存，父子进程拷贝信息，拷贝设置页目录页表等等，这些工作得由特定的进程去做，所以就有了特权级别的概念。最关键的工作必须交给特权级最高的进程去执行，这样可以做到集中管理，减少有限资源的访问和使用冲突。cpu一共有四个级别，0-3级，0级特权级最高，3级特权级最低。

用户态：当一个进程在执行用户自己的代码时处于用户运行态（用户态)，此时特权级最低，为3级，是普通的用户进程运行的特权级，大部分用户直接面对的程序都是运行在用户态。

内核态：当一个进程因为系统调用陷入内核代码中执行时处于内核运行态（内核态），此时特权级最高，为0级。执行的内核代码会使用当前进程的内核栈，每个进程都有自己的内核栈。

系统调用：指运行在使用者空间的程序向操作系统内核请求需要更高权限运行的服务。
系统调用提供了用户程序与操作系统之间的接口，是用户态进程主动要求切换到内核态的一种方式，用户态进程通过系统调用申请使用操作系统提供的服务程序完成工作



## 2、线程同步是干什么的，线程同步有那些机制？



线程同步：即当有一个线程在对内存进行操作时，其他线程都不可以对这个内存地址进行操作，直到该线程完成操作， 其他线程才能对该内存地址进行操作，而其他线程又处于等待状态，实现线程同步的方法有很多，临界区对象就是其中一种。

线程同步的机制：

1.临界区：通过多线程的互串行访问公共资源或一段代码，速度快，适合控制数据访问。

2.互斥量：为协调共同对一个共享资源的单独访问而设计。只有拥有互斥对象的线程才有权限去访问系统的公共资源，因为互斥对象只有一个，所以能够保证资源不会同时被多个线程访问。

3.信号量：为控制一个具有有限数量的用户资源而设计。它允许多个线程在同一时刻去访问同一个资源，但一般需要限制同一时刻访问此资源的最大线程数。

4.事件：用来通知线程有一些事件已发生，从而启动后继任务的开始。

## 3、内核线程和用户线程有什么区别？

**以下是用户级线程和内核级线程的区别：**

**（1）**内核支持线程是OS内核可感知的，而用户级线程是OS内核不可感知的。

**（2）**用户级线程的创建、撤消和调度不需要OS内核的支持，是在语言（如Java）这一级处理的；而内核支持线程的创建、撤消和调度都需OS内核提供支持，而且与进程的创建、撤消和调度大体是相同的。

**（3）**用户级线程执行系统调用指令时将导致其所属进程被中断，而内核支持线程执行系统调用指令时，只导致该线程被中断。

**（4）**在只有用户级线程的系统内，CPU调度还是以进程为单位，处于运行状态的进程中的多个线程，由用户程序控制线程的轮换运行；在有内核支持线程的系统内，CPU调度则以线程为单位，由OS的线程调度程序负责线程的调度。

**（5）**用户级线程的程序实体是运行在用户态下的程序，而内核支持线程的程序实体则是可以运行在任何状态下的程序。





9999