# c和c++的区别

## 1、简述c和c++中的struct有什么区别？以及关于c++中为什么要保留struct关键字说出你的思考。



ｃ语言中 struct中只能定义成员变量，不能定义成员函数．是用户自定义数据类型．没有权限的设置。它不是类，不可以有函数，也不能使用类的特征例如public等关键字 ，也不可以有static关键字。



C++语言将struct当成类来处理的，增加了访问权限,且可以和类一样有成员函数；  所以C++的struct可以包含C++类的所有东西，例如构造函数，析构函数，友元等。

  C++中的struct等同于class,只是class默认成员权限是private,而struct默认成员权限是public；

  C++中保留struct的这个关键字的目的是为了编译器能够兼容C开发的程序。



## 2、const与constexpr的区别

最主要的区别在，

const 所定义的变量，一经初始化便不能修改。

constexpr 定义的变量   要求变量在程序被编译的时候就能被判定为常量，否则出错。



**语义上：**
constexpr：告诉编译器我**可以**是编译期间可知的，尽情的优化我吧。
const：告诉程序员没人动得了我，放心的把我传出去；或者放心的把变量交给我，我啥也不动就瞅瞅。

**语法上：**
constexpr是一种比const 更严格的束缚, 它修饰的**表达式本身**在编译期间可知, 并且编译器会尽可能的 evaluate at compile time. 在constexpr 出现之前, 可以在编译期初始化的const都是implicit constexpr. 直到c++ 11, constexpr才从const中细分出来成为一个关键字, 而 const从1983年 c++ 刚改名的时候就存在了





const 所定义的变量，一经初始化便不能修改。

const是可以作用在运行期，当相关变量在运行期需要确定值时，可以把他当成const类型的变量，const关键字要求相关变量在定义时必须要确定相关的值，一旦确定就不能改了，总的来说，const关键字可以使得当前的变量是个常量，但是只是表现的像个常量，相关变量的值在运行期时进行确定，也可以在编译期进行确定值，所以它不严谨。

const既可以在运行期确定值，又可以在编译器去确定值。

constexpr的语义信息更加严谨，只允许相关变量在编译器的时候必须去确定其值，当我们在进行编程时，我们写一个值，而这个值只能在编译期必须能确定值时，用constexpr修饰。

constexpr修饰函数的时候，相当于告诉编译器这个函数可以返回常量表达式，可以当成常量表达式去用，而不是说这个函数必须当成常量表达式去用，但是修饰变量的时候是必须当成常量表达式。

## 3、C++多态与虚函数

多态（polymorphism）”指的是同一名字的事物可以完成不同的功能。多态可以分为编译时的多态和运行时的多态。前者主要是指函数的重载（包括运算符的重载）、对重载函数的调用，在编译时就能根据实参确定应该调用哪个函数，因此叫编译时的多态；而后者则和继承、虚函数等概念有关.



通过指针只能访问派生类的成员变量，但是不能访问派生类的成员函数。让指针能够访问派生类的成员函数，[C++](http://c.biancheng.net/cplus/) 增加了**虚函数**,虚函数就是实现多态的一种方式．

纯虚函数作用是在基类中为其派生类保留一个函数的名字，以便派生类根据需要对它进行定义，如果没有保留，则无法实现多态．









三大特性：继承、封装、多态。

虚函数是实现多态的一种方式，它的关键词是virtual。而多态是面向对象语言的特性之一。

所谓多态意指相同的消息给予不同的对象会引发不同的动作称之。”其实更简单地来说，就是“在用父类指针调用函数时，实际调用的是指针指向的(子类)的成员函数”。多态性使得程序调用的函数是在运行时动态确定的，而不是在编译时静态确定的。而虚函数则是加了virtual修饰词的类的成员函数。

纯虚函数是在基类中声明的虚函数，它在基类中没有定义，但要求任何派生类都要定义自己的实现方法。

```
观点二：
	虚函数在子类里面也可以不重载的；但纯虚必须在子类去实现，纯虚函数只是一个接口，是个函数的声明而已。
```

```
观点一：
	类里声明为虚函数的话,这个函数是实现的，哪怕是空实现，它的作用就是为了能让这个函数在它的子类里面可以被重载，这样的话，这样编译器就可以使用后期绑定来达到多态了

```

总结：
1、纯虚函数没有定义，用来规范派生类的行为，即接口。包含纯虚函数的类是抽象类，抽象类不能定义实例，但可以声明指向实现该抽象类的具体类的指针或引用。
3、对于虚函数来说，父类和子类都有各自的版本。由多态方式调用的时候动态绑定。
5、虚函数是C++中用于实现多态的机制。核心理念就是通过基类访问派生类定义的函数。

