# 计算机网络



## 1 、网络通讯中的时延有哪些,分别如何引起的,那个占比最大。

时延是指数据（报文、比特）从网络（或链路）的一端传送到另一端所需要的时间。在传输介质中传输所用的时间

总时延=发送时延+传播时延+处理时延+排队时延

**发送时延：**主机或路由器发送完数据帧的时间（相当于快递公司装运快递需要的时间）

发送时延=数据帧长度（b）/发送速率（b/s）

**传播时延**：电磁波在信道中传播一定距离所需要的时间（相当于快递在路上运送的时间）

传播时延=信道长度(m)/电磁波在信道上的传播速率（m/s）

**处理时延：**主机或路由器在收到分组时要花费一定的时间进行处理**，**例如分析分组的首部、从分组中提取数据部分、进行差错检验或查找适当的路由等等，这就产生了处理时延。（相当于快递运送到每个地方要进行快递处理）

**排队时延：**   分组在经过网络传输时，要经过许多路由器。但分组在进入路由器后要先在输入队列中排队等待处理。在路由器确定了转发接口后，还要在输出队列中排队等待转发。这就产生了排队时延。排队时延的长短往往取决于网络当时的通信量。当网络的通信量很大时会发生队列溢出，使分组丢失，这相当于排队时延为无穷大。

发送时延和传播时延是我们主要考虑的。对于报文长度较大的情况，发送时延是主要矛盾；报文长度较小的情况，传播时延是主要矛盾。 发送时延发生在机器的内部的发送器中（一般就是发生在网络适配器中），而传播时延则发生在机器外部的传输信道媒体上。



## 2、描述TCP/IP的五层协议

第1层--物理层 ：在物理层上所传数据的单位是比特。物理层的任务就是透明地传送比特流。"透明" ，它表示，某一个实际存在的事物看起来却好像不存在一样。

第2层--数据链路层：它负责设备之间的数据帧的传输和识别。

在两个相邻结点之间传送数据时，数据链路层.将网络层交下来的IP数据报组装成帧(framin  g)，在两个相邻结点之间的链路上“透明”地传送帧中的数据。  

每一个帧包括数据和必要的控制信息（如同步信息、地址信息、差错信息等）。



第3层--网络层：它主要包括以下两个任务:  (1)负责为分组交换网上的不同主机提供通信服务。在发送数据时，网络层把运输层产生的报文段或用户数据报封装成分组或包进行传送。在TCP/IP体系中，由于网络层使用IP协议，因此分组也叫做IP数据报。因特网是一个很大的互联网，它由大量异构网络通过路由器互联起来。 因特网主要的网络协议是无连接的网际协议IP和许多种路由选择协议。

（2）选择合适的路由，使源主机运输层所传下来的分组，能够通过网络中的路由器找到目的主机。 



第4层-- -运输层: 负责向两个主机中进程之间的通信提供服务。由于一个主机可同时运行多个进程，因此运输层有复用和分用的功能。  复用，就是多个应用层进程可同时使用下面运输层的服务。  分用，就是把收到的信息分别交付给.上面应用层中相应的进程。  

运输层主要使用以下两种协议: (1)传输控制协议TCP:面向连接的，数据传输的单位是报文段，能够提供可靠的交付。

(2) 用户数据包协议UDP:无连接的，数据传输的单位是用户数据报，不保证提供可靠的交付，只能提供“尽最大努力交付”。  

第5层- --应用层: 负责应用程序之间的沟通。。直接为用户的应用进程提供服务。  在因特网中的应用层协议很多，如支持万维网应用的HTTP协议，支持电子邮件的SMTP协议，支持文件传送的FTP协议等等。 网络编程主要针对的就是应用层。  



一般而言： * 对于一台主机，它的操作系统内核实现了传输层到物理层的内容 * 对于一台路由器，它实现了从网络层到物理层 * 对于一台交换机，它实现了由数据链路层到物理层 * 对于集线器，他只实现了物理层。



## 3、交换机和路由器有什么区别

**工作层次不同：**
交换机主要工作在数据链路层（第二层）
路由器工作在网络层（第三层）。
**转发依据不同：**
交换机转发所依据的对象是：MAC地址。（物理地址）
路由转发所依据的对象是：IP地址。（网络地址）
**主要功能不同：**
交换机主要用于组建局域网，
而路由主要功能是将由交换机组好的局域网相互连接起来，或者接入Internet。
交换机能做的，路由都能做。
交换机不能分割广播域，路由可以。
路由还可以提供防火墙的功能。
路由配置比交换机复杂。











路由器系统构成了基于TCP/IP的国际互联网络Internet的主体脉络，也可以说，路由器
构成了Internet的骨架。交换机(Switch)和路由器(Router)是两种不同的网络设备。 交换机工
作在数据链路层，负责MAC地址;路由器工作在网络层，负责IP地址。  

 两者的功能就有本质上的不同。比如说交换机，也就是相当于多了网线接口的意思。比如你十个人上网，可是口没有那么多，那么插上交换机就可以。

但是如果你要上网，用交换机就不可以了。这个时候你必须要用到路由器，因为这个会自动拨号，并且传输无线信号。

交换机又分为两类，一种是我们家里普通用的，我们称为普通的局域网交换机，一种分为运营商的交换机广域的。

而路由器我们可以用有线连接，也可以用无线连接。当然了最开始还是需要有线先连接。其后为了扩散信号可以拼接路由器。

但是路由器组网就很麻烦了，所以我们通常要配合交换机和路由一起使用，这种在企事业会用的多一点，普通家庭路由即可。 

另外两个所在的理论上的层级是不一样的。路由所在的是网络层，而交换机是在数据链路层。 